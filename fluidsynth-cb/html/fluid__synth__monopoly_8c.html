<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: synth/fluid_synth_monopoly.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0019dc9908b3707f2efe5d1d2e908f03.html">synth</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fluid_synth_monopoly.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="fluid__synth_8h_source.html">fluid_synth.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fluid__chan_8h_source.html">fluid_chan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fluid__defsfont_8h_source.html">fluid_defsfont.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fluid_synth_monopoly.c:</div>
<div class="dyncontent">
<div class="center"><img src="fluid__synth__monopoly_8c__incl.png" border="0" usemap="#synth_2fluid__synth__monopoly_8c" alt=""/></div>
<map name="synth_2fluid__synth__monopoly_8c" id="synth_2fluid__synth__monopoly_8c">
<area shape="rect" id="node2" href="fluid__synth_8h.html" title="fluid_synth.h" alt="" coords="1119,80,1215,107"/>
<area shape="rect" id="node47" href="fluid__chan_8h.html" title="fluid_chan.h" alt="" coords="1375,379,1467,405"/>
<area shape="rect" id="node49" href="fluid__defsfont_8h.html" title="fluid_defsfont.h" alt="" coords="1693,379,1803,405"/>
<area shape="rect" id="node3" href="fluid__sys_8h.html" title="../utils/fluid_sys.h" alt="" coords="519,528,644,555"/>
<area shape="rect" id="node30" href="fluid__list_8h.html" title="../utils/fluid_list.h" alt="" coords="1479,528,1601,555"/>
<area shape="rect" id="node31" href="fluid__rev_8h.html" title="fluid_rev.h" alt="" coords="1207,229,1289,256"/>
<area shape="rect" id="node32" href="fluid__voice_8h.html" title="fluid_voice.h" alt="" coords="635,155,730,181"/>
<area shape="rect" id="node40" href="fluid__rvoice__event_8h.html" title="fluid_rvoice_event.h" alt="" coords="899,229,1037,256"/>
<area shape="rect" id="node42" href="fluid__ladspa_8h.html" title="fluid_ladspa.h" alt="" coords="386,379,489,405"/>
<area shape="rect" id="node44" href="fluid__chorus_8h.html" title="fluid_chorus.h" alt="" coords="1271,155,1374,181"/>
<area shape="rect" id="node45" href="fluid__midi__router_8h.html" title="fluid_midi_router.h" alt="" coords="1103,379,1231,405"/>
<area shape="rect" id="node4" href="fluidsynth__priv_8h.html" title="fluidsynth_priv.h" alt="" coords="1133,603,1251,629"/>
<area shape="rect" id="node5" href="config_8h.html" title="../config.h" alt="" coords="5,677,85,704"/>
<area shape="rect" id="node26" href="fluidsynth_8h.html" title="FluidSynth is a real&#45;time synthesizer designed for SoundFont(R) files. " alt="" coords="2057,677,2146,704"/>
<area shape="rect" id="node27" href="types_8h.html" title="Type declarations. " alt="" coords="2025,752,2151,779"/>
<area shape="rect" id="node28" href="settings_8h.html" title="Synthesizer settings. " alt="" coords="2175,752,2313,779"/>
<area shape="rect" id="node33" href="fluid__phase_8h.html" title="fluid_phase.h" alt="" coords="300,453,399,480"/>
<area shape="rect" id="node34" href="fluid__gen_8h.html" title="fluid_gen.h" alt="" coords="1625,528,1711,555"/>
<area shape="rect" id="node35" href="fluid__mod_8h.html" title="fluid_mod.h" alt="" coords="1887,528,1977,555"/>
<area shape="rect" id="node36" href="fluid__iir__filter_8h.html" title="fluid_iir_filter.h" alt="" coords="769,453,876,480"/>
<area shape="rect" id="node37" href="fluid__adsr__env_8h.html" title="fluid_adsr_env.h" alt="" coords="577,453,695,480"/>
<area shape="rect" id="node38" href="fluid__lfo_8h.html" title="fluid_lfo.h" alt="" coords="474,453,553,480"/>
<area shape="rect" id="node39" href="fluid__rvoice_8h.html" title="fluid_rvoice.h" alt="" coords="615,379,713,405"/>
<area shape="rect" id="node41" href="fluid__rvoice__mixer_8h.html" title="fluid_rvoice_mixer.h" alt="" coords="745,304,884,331"/>
<area shape="rect" id="node43" href="fluid__ringbuffer_8h.html" title="fluid_ringbuffer.h" alt="" coords="909,304,1027,331"/>
<area shape="rect" id="node46" href="fluid__midi_8h.html" title="fluid_midi.h" alt="" coords="1204,453,1292,480"/>
<area shape="rect" id="node48" href="fluid__tuning_8h.html" title="fluid_tuning.h" alt="" coords="1356,528,1455,555"/>
<area shape="rect" id="node50" href="fluid__sffile_8h.html" title="fluid_sffile.h" alt="" coords="1786,453,1878,480"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef38060ee3d92c8df3f728fdd49f0201"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fluid__synth__monopoly_8c.html#aef38060ee3d92c8df3f728fdd49f0201">fluid_synth_noteoff_monopoly</a> (<a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *synth, int chan, int key, char Mono)</td></tr>
<tr class="separator:aef38060ee3d92c8df3f728fdd49f0201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb5866cdbf1ad3c0a7120abdf7757c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fluid__synth__monopoly_8c.html#acbb5866cdbf1ad3c0a7120abdf7757c9">fluid_synth_noteon_monopoly_legato</a> (<a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *synth, int chan, int fromkey, int tokey, int vel)</td></tr>
<tr class="separator:acbb5866cdbf1ad3c0a7120abdf7757c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9190647a6c9bc24485c449ebe0714f91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fluid__synth__monopoly_8c.html#a9190647a6c9bc24485c449ebe0714f91">fluid_synth_noteon_mono_LOCAL</a> (<a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *synth, int chan, int key, int vel)</td></tr>
<tr class="separator:a9190647a6c9bc24485c449ebe0714f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada664916bb9e6d205dbfc09c55c9b7e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fluid__synth__monopoly_8c.html#ada664916bb9e6d205dbfc09c55c9b7e6">fluid_synth_noteoff_mono_LOCAL</a> (<a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *synth, int chan, int key)</td></tr>
<tr class="separator:ada664916bb9e6d205dbfc09c55c9b7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae697a54d15a41d86caf9ddce1db7ab2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fluid__synth__monopoly_8c.html#ae697a54d15a41d86caf9ddce1db7ab2b">fluid_synth_noteon_mono_staccato</a> (<a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *synth, int chan, int key, int vel)</td></tr>
<tr class="separator:ae697a54d15a41d86caf9ddce1db7ab2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ada664916bb9e6d205dbfc09c55c9b7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada664916bb9e6d205dbfc09c55c9b7e6">&#9670;&nbsp;</a></span>fluid_synth_noteoff_mono_LOCAL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_synth_noteoff_mono_LOCAL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *&#160;</td>
          <td class="paramname"><em>synth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays a noteoff event for a Synth instance in "monophonic playing" state. Please see the description above about "monophonic playing" </p><pre class="fragment">                                      _______________    
                                     |   noteon      |
                                 +--&gt;|  monopoly     |
                                 |   |   legato      |----&gt; voices
                                 |   |_______________|      triggering
                                 |                          (with or without)
                                 |                          (portamento)
                                 |                    
                                 |           
                                 |
                                 |
                                 |             
                                 |          
            _________________    |          
           | legato detector |   O          
</pre><p> noteoff_mono-&gt;|(search_monolist)|-O&ndash; _______________ LOCAL |(remove_monolist)| O&ndash;&gt;| noteoff | |_________________| | monopoly |-&mdash;&gt; noteoff |_______________|</p>
<p>The function uses the legato detector (see above) to determine if the noteoff must be played staccato or legato.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synth</td><td>instance. </td></tr>
    <tr><td class="paramname">chan</td><td>MIDI channel number (0 to MIDI channel count - 1). </td></tr>
    <tr><td class="paramname">key</td><td>MIDI note number (0-127). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FLUID_OK on success, FLUID_FAILED otherwise. </dd></dl>

</div>
</div>
<a id="aef38060ee3d92c8df3f728fdd49f0201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef38060ee3d92c8df3f728fdd49f0201">&#9670;&nbsp;</a></span>fluid_synth_noteoff_monopoly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_synth_noteoff_monopoly </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *&#160;</td>
          <td class="paramname"><em>synth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>Mono</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays noteoff for a polyphonic or monophonic note Please see the description above about "monophonic playing".</p>
<p>noteOff poly &gt;------------------------------&mdash;+ </p><table class="doxtable">
<tr>
<th></th></tr>
<tr>
</tr>
</table>
<table class="doxtable">
</table>
<p>_____|/_______ LOCAL &gt;----------------------&mdash;&gt;| noteoff | | monopoly |-&mdash;&gt; noteoff Sust.on/off &gt;----------------------&mdash;&gt;|_______________| Sost.on/off</p>
<p>The function has the same behaviour when the noteoff is poly of mono, except that for mono noteoff, if any pedal (sustain or sostenuto ) is depressed, the key is memorized. This is neccessary when the next mono note will be played staccato, as any current mono note currently sustained will need to be released (see <a class="el" href="fluid__synth__monopoly_8c.html#ae697a54d15a41d86caf9ddce1db7ab2b">fluid_synth_noteon_mono_staccato()</a>). Note also that for a monophonic legato passage, the function is called only when the last noteoff of the passage occurs. That means that if sustain or sostenuto is depressed, only the last note of a legato passage will be sustained.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synth</td><td>instance. </td></tr>
    <tr><td class="paramname">chan</td><td>MIDI channel number (0 to MIDI channel count - 1). </td></tr>
    <tr><td class="paramname">key</td><td>MIDI note number (0-127). </td></tr>
    <tr><td class="paramname">Mono,1</td><td>noteoff on monophonic note. 0 noteoff on polyphonic note. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FLUID_OK on success, FLUID_FAILED otherwise.</dd></dl>
<p>Note: On return, on monophonic, possible sustained note is memorized in key_mono_sustained. Memorization is done here on noteOff. </p>

</div>
</div>
<a id="a9190647a6c9bc24485c449ebe0714f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9190647a6c9bc24485c449ebe0714f91">&#9670;&nbsp;</a></span>fluid_synth_noteon_mono_LOCAL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_synth_noteon_mono_LOCAL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *&#160;</td>
          <td class="paramname"><em>synth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays a noteon event for a Synth instance in "monophonic playing" state. Please see the description above about "monophonic playing". </p><hr/>
<p> ________________ | noteon | | legato detector| O&ndash;&gt;| mono_staccato |&mdash;&gt;preset_noteon noteon_mono -&gt;| (add_monolist) |&ndash;O&ndash; |_______________| LOCAL |________________| O </p><table class="doxtable">
<tr>
<th></th></tr>
<tr>
</tr>
</table>
<p>| _______________ | | noteon | +&ndash;&gt;| monopoly | | legato |&mdash;&gt; voices |_______________| triggering</p>
<p>The function uses the legato detector (see above) to determine if the note must be played staccato or legato.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synth</td><td>instance. </td></tr>
    <tr><td class="paramname">chan</td><td>MIDI channel number (0 to MIDI channel count - 1). </td></tr>
    <tr><td class="paramname">key</td><td>MIDI note number (0-127). </td></tr>
    <tr><td class="paramname">vel</td><td>MIDI velocity (0-127). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FLUID_OK on success, FLUID_FAILED otherwise. </dd></dl>

</div>
</div>
<a id="ae697a54d15a41d86caf9ddce1db7ab2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae697a54d15a41d86caf9ddce1db7ab2b">&#9670;&nbsp;</a></span>fluid_synth_noteon_mono_staccato()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_synth_noteon_mono_staccato </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *&#160;</td>
          <td class="paramname"><em>synth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays noteon for a monophonic note in staccato manner. Please see the description above about "monophonic playing". </p><hr/>
<p> | noteon | noteon_mono &gt;---------------------&mdash;&gt;| mono_staccato |-&mdash;&gt; preset_noteon |_______________| (with or without) LOCAL /|\ (portamento) | fromkey | portamento | | ______|________ portamento modes &gt;--&mdash;&gt;| | | get_fromkey | Porta.on/off &gt;--------------------&mdash;&gt;|_______________| Portamento (PTC)</p>
<p>We are in staccato situation (where no previous note have been depressed). Before the note been passed to <a class="el" href="fluid__sfont_8h.html#a1cbd735965f48f770de68e01ef8f22b8">fluid_preset_noteon()</a>, the function must determine the from_key_portamento parameter used by <a class="el" href="fluid__sfont_8h.html#a1cbd735965f48f770de68e01ef8f22b8">fluid_preset_noteon()</a>.</p>
<p>from_key_portamento is returned by fluid_synth_get_fromkey_portamento_legato() function. fromkey_portamento is set to valid/invalid key value depending of the portamento modes (see portamento mode API) , CC portamento On/Off , and CC portamento control (PTC).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synth</td><td>instance. </td></tr>
    <tr><td class="paramname">chan</td><td>MIDI channel number (0 to MIDI channel count - 1). </td></tr>
    <tr><td class="paramname">key</td><td>MIDI note number (0-127). </td></tr>
    <tr><td class="paramname">vel</td><td>MIDI velocity (0-127). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FLUID_OK on success, FLUID_FAILED otherwise. </dd></dl>

</div>
</div>
<a id="acbb5866cdbf1ad3c0a7120abdf7757c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb5866cdbf1ad3c0a7120abdf7757c9">&#9670;&nbsp;</a></span>fluid_synth_noteon_monopoly_legato()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_synth_noteon_monopoly_legato </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae265f10ae174a13afe010de50d87e1a4">fluid_synth_t</a> *&#160;</td>
          <td class="paramname"><em>synth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fromkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tokey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays noteon for a monophonic note played legato. Please see the description above about "monophonic playing".</p>
<pre class="fragment">                                    _______________    
           portamento modes &gt;-----&gt;|               |   
                                   | get_fromkey   |
</pre><p> Porta.on/off &gt;--------------------&mdash;&gt;|_______________| Portamento | (PTC) | +&ndash;&gt;preset_noteon fromkey | fromkey | (with or without) legato | portamento| (portamento) _____|/_______ | | noteon |&ndash;+ noteon_mono &gt;---------------------&mdash;&gt;| monopoly | LOCAL | legato |--&mdash;&gt;voices |_______________| triggering /|\ (with or without) | (portamento) legato modes &gt;--------------&mdash;+</p>
<p>We are in legato situation (where a previous note has been depressed). The function must determine the from_key_portamento and from_key_legato parameters used respectively by <a class="el" href="fluid__sfont_8h.html#a1cbd735965f48f770de68e01ef8f22b8">fluid_preset_noteon()</a> function and voices triggering functions.</p>
<p>from_key_portamento and from_key_legato are returned by fluid_synth_get_fromkey_portamento_legato() function. fromkey_portamento is set to valid/invalid key value depending of the portamento modes (see portamento mode API), CC portamento On/Off, and CC portamento control (PTC). Then, depending of the legato modes (see legato mode API), the function will call the appropriate triggering functions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synth</td><td>instance. </td></tr>
    <tr><td class="paramname">chan</td><td>MIDI channel number (0 to MIDI channel count - 1). </td></tr>
    <tr><td class="paramname">fromkey</td><td>MIDI note number (0-127). </td></tr>
    <tr><td class="paramname">tokey</td><td>MIDI note number (0-127). </td></tr>
    <tr><td class="paramname">vel</td><td>MIDI velocity (0-127). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FLUID_OK on success, FLUID_FAILED otherwise.</dd></dl>
<p>Note: The voices with key 'fromkey' are to be used to play key 'tokey'. The function is able to play legato through Preset Zone(s) (PZ) and Instrument Zone(s) (IZ) as far as possible. When key tokey is outside the current Instrument Zone, Preset Zone, current 'fromkey' voices are released. If necessary new voices are restarted when tokey enters inside new Instrument(s) Zones,Preset Zone(s). More informations in FluidPolyMono-0004.pdf chapter 4.7 (Appendices). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
